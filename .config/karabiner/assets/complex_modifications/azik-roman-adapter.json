{
  "title": "AZIK to Normal Romaji",
  "rules": [
    {
      "description": "AZIK to Normal Romaji Adapter",
      "manipulators": [
        // AZIK: semicolon → ltu (always)
        {
          "type": "basic",
          "from": { "key_code": "semicolon" },
          "to": [
            { "key_code": "l" },
            { "key_code": "t" },
            { "key_code": "u" },
            { "set_variable": { "name": "azik", "value": "" } }
          ]
        },
        // AZIK word shortcuts (kt→oto, ms→asu, sr→uru, etc.)
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "k" }],
          "to": [ { "key_code": "o" }, { "key_code": "t" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "m" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "k" }],
          "to": [ { "key_code": "a" }, { "key_code": "m" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "k" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "s" }],
          "to": [ { "key_code": "u" }, { "key_code": "r" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "s" }],
          "to": [ { "key_code": "i" }, { "key_code": "t" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "m" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "t" }],
          "to": [ { "key_code": "a" }, { "key_code": "m" }, { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "t" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "t" }],
          "to": [ { "key_code": "a" }, { "key_code": "t" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "b" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "t" }],
          "to": [ { "key_code": "a" }, { "key_code": "b" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "b" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "n" }],
          "to": [ { "key_code": "e" }, { "key_code": "b" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "n" }],
          "to": [ { "key_code": "i" }, { "key_code": "t" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "n" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "h" }],
          "to": [ { "key_code": "i" }, { "key_code": "t" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "s" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "m" }],
          "to": [ { "key_code": "a" }, { "key_code": "s" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "m" }],
          "to": [ { "key_code": "a" }, { "key_code": "t" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "y" }],
          "to": [ { "key_code": "o" }, { "key_code": "r" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "r" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "w" }],
          "to": [ { "key_code": "a" }, { "key_code": "t" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "w" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "g" }],
          "to": [ { "key_code": "o" }, { "key_code": "t" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "g" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "z" }],
          "to": [ { "key_code": "a" }, { "key_code": "r" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "d" }],
          "to": [ { "key_code": "a" }, { "key_code": "t" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "m" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "d" }],
          "to": [ { "key_code": "e" }, { "key_code": "m" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "s" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "d" }],
          "to": [ { "key_code": "e" }, { "key_code": "s" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "b" }],
          "to": [ { "key_code": "i" }, { "key_code": "t" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK f-shortcuts (kf→i, hf→u, df→e, sf→ai, wf→ai, pf→onn, etc.)
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "k" }],
          "to": [ { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "s" }],
          "to": [ { "key_code": "a" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "n" }],
          "to": [ { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "h" }],
          "to": [ { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "m" }],
          "to": [ { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "y" }],
          "to": [ { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "w" }],
          "to": [ { "key_code": "a" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "z" }],
          "to": [ { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "d" }],
          "to": [ { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "p" }],
          "to": [ { "key_code": "o" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "j" }],
          "to": [ { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "c" }],
          "to": [ { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK specials (ss→ei, mn→ono, zc→a, zv→ai, zx→ei)
        { "type": "basic", "from": { "key_code": "s" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "s" }],
          "to": [ { "key_code": "e" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "n" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "m" }],
          "to": [ { "key_code": "o" }, { "key_code": "n" }, { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "c" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "z" }],
          "to": [ { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "v" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "z" }],
          "to": [ { "key_code": "a" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "x" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "z" }],
          "to": [ { "key_code": "e" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK ON: natural vowels (send as-is, reset)
        { "type": "basic", "from": { "key_code": "a" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "a" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "i" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "u" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "e" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "e" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "o" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "o" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK ON: ん-row modifiers (z,n→ann, k→inn, j→unn, d→enn, l→onn)
        { "type": "basic", "from": { "key_code": "z" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "a" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "n" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "a" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "k" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "i" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "j" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "u" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "d" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "e" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "l" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "o" }, { "key_code": "n" }, { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK ON: vowel pattern modifiers (q→ai, h→uu, w→ei, p→ou)
        { "type": "basic", "from": { "key_code": "q" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "a" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "h" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "u" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "w" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "e" }, { "key_code": "i" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "p" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "o" }, { "key_code": "u" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK ON: other consonants (send as-is, reset - fallback)
        { "type": "basic", "from": { "key_code": "b" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "b" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "c" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "c" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "f" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "g" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "g" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "m" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "m" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "r" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "s" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "s" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "t" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "v" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "v" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "x" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "x" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        { "type": "basic", "from": { "key_code": "y" }, "conditions": [{ "type": "variable_unless", "name": "azik", "value": "" }],
          "to": [ { "key_code": "y" }, { "set_variable": { "name": "azik", "value": "" } } ] },
        // AZIK OFF: q → nn (standalone ん)
        { "type": "basic", "from": { "key_code": "q" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "n" }, { "key_code": "n" } ] },
        // AZIK OFF: consonants (enable azik, send key)
        { "type": "basic", "from": { "key_code": "k" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "k" }, { "set_variable": { "name": "azik", "value": "k" } } ] },
        { "type": "basic", "from": { "key_code": "s" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "s" }, { "set_variable": { "name": "azik", "value": "s" } } ] },
        { "type": "basic", "from": { "key_code": "t" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "t" }, { "set_variable": { "name": "azik", "value": "t" } } ] },
        { "type": "basic", "from": { "key_code": "n" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "n" }, { "set_variable": { "name": "azik", "value": "n" } } ] },
        { "type": "basic", "from": { "key_code": "h" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "h" }, { "set_variable": { "name": "azik", "value": "h" } } ] },
        { "type": "basic", "from": { "key_code": "m" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "m" }, { "set_variable": { "name": "azik", "value": "m" } } ] },
        { "type": "basic", "from": { "key_code": "y" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "y" }, { "set_variable": { "name": "azik", "value": "y" } } ] },
        { "type": "basic", "from": { "key_code": "r" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "r" }, { "set_variable": { "name": "azik", "value": "r" } } ] },
        { "type": "basic", "from": { "key_code": "w" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "w" }, { "set_variable": { "name": "azik", "value": "w" } } ] },
        { "type": "basic", "from": { "key_code": "g" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "g" }, { "set_variable": { "name": "azik", "value": "g" } } ] },
        { "type": "basic", "from": { "key_code": "z" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "z" }, { "set_variable": { "name": "azik", "value": "z" } } ] },
        { "type": "basic", "from": { "key_code": "d" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "d" }, { "set_variable": { "name": "azik", "value": "d" } } ] },
        { "type": "basic", "from": { "key_code": "b" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "b" }, { "set_variable": { "name": "azik", "value": "b" } } ] },
        { "type": "basic", "from": { "key_code": "p" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "p" }, { "set_variable": { "name": "azik", "value": "p" } } ] },
        { "type": "basic", "from": { "key_code": "f" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "f" }, { "set_variable": { "name": "azik", "value": "f" } } ] },
        { "type": "basic", "from": { "key_code": "v" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "v" }, { "set_variable": { "name": "azik", "value": "v" } } ] },
        // AZIK OFF: special consonants (c→ty, x→sy, j→zy)
        { "type": "basic", "from": { "key_code": "c" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "t" }, { "key_code": "y" }, { "set_variable": { "name": "azik", "value": "c" } } ] },
        { "type": "basic", "from": { "key_code": "x" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "s" }, { "key_code": "y" }, { "set_variable": { "name": "azik", "value": "x" } } ] },
        { "type": "basic", "from": { "key_code": "j" }, "conditions": [{ "type": "variable_if", "name": "azik", "value": "" }],
          "to": [ { "key_code": "z" }, { "key_code": "y" }, { "set_variable": { "name": "azik", "value": "j" } } ] }
      ]
    }
  ]
}
